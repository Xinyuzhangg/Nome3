#include "ConstantConverter.h"

namespace Nome::RHI
{

static DXGI_FORMAT FormatMappingTable[] =
{
    DXGI_FORMAT_UNKNOWN, /* UNDEFINED */
    DXGI_FORMAT_UNKNOWN, /* R4G4_UNORM_PACK8 */
    DXGI_FORMAT_UNKNOWN, /* R4G4B4A4_UNORM_PACK16 */
    DXGI_FORMAT_UNKNOWN, /* B4G4R4A4_UNORM_PACK16 */
    DXGI_FORMAT_UNKNOWN, /* R5G6B5_UNORM_PACK16 */
    DXGI_FORMAT_UNKNOWN, /* B5G6R5_UNORM_PACK16 */
    DXGI_FORMAT_UNKNOWN, /* R5G5B5A1_UNORM_PACK16 */
    DXGI_FORMAT_UNKNOWN, /* B5G5R5A1_UNORM_PACK16 */
    DXGI_FORMAT_UNKNOWN, /* A1R5G5B5_UNORM_PACK16 */
    DXGI_FORMAT_R8_UNORM, /* R8_UNORM */
    DXGI_FORMAT_R8_SNORM, /* R8_SNORM */
    DXGI_FORMAT_UNKNOWN, /* R8_USCALED */
    DXGI_FORMAT_UNKNOWN, /* R8_SSCALED */
    DXGI_FORMAT_R8_UINT, /* R8_UINT */
    DXGI_FORMAT_R8_SINT, /* R8_SINT */
    DXGI_FORMAT_UNKNOWN, /* R8_SRGB */
    DXGI_FORMAT_R8G8_UNORM, /* R8G8_UNORM */
    DXGI_FORMAT_R8G8_SNORM, /* R8G8_SNORM */
    DXGI_FORMAT_UNKNOWN, /* R8G8_USCALED */
    DXGI_FORMAT_UNKNOWN, /* R8G8_SSCALED */
    DXGI_FORMAT_R8G8_UINT, /* R8G8_UINT */
    DXGI_FORMAT_R8G8_SINT, /* R8G8_SINT */
    DXGI_FORMAT_UNKNOWN, /* R8G8_SRGB */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_UNORM */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_SNORM */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_USCALED */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_SSCALED */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_UINT */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_SINT */
    DXGI_FORMAT_UNKNOWN, /* R8G8B8_SRGB */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_UNORM */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_SNORM */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_USCALED */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_SSCALED */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_UINT */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_SINT */
    DXGI_FORMAT_UNKNOWN, /* B8G8R8_SRGB */
    DXGI_FORMAT_R8G8B8A8_UNORM, /* R8G8B8A8_UNORM */
    DXGI_FORMAT_R8G8B8A8_SNORM, /* R8G8B8A8_SNORM */
    DXGI_FORMAT_R8G8B8A8_TYPELESS, /* R8G8B8A8_USCALED */
    DXGI_FORMAT_R8G8B8A8_TYPELESS, /* R8G8B8A8_SSCALED */
    DXGI_FORMAT_R8G8B8A8_UINT, /* R8G8B8A8_UINT */
    DXGI_FORMAT_R8G8B8A8_SINT, /* R8G8B8A8_SINT */
    DXGI_FORMAT_R8G8B8A8_UNORM_SRGB, /* R8G8B8A8_SRGB */
    DXGI_FORMAT_B8G8R8A8_UNORM, /* B8G8R8A8_UNORM */
    DXGI_FORMAT_B8G8R8A8_TYPELESS, /* B8G8R8A8_SNORM */
    DXGI_FORMAT_B8G8R8A8_TYPELESS, /* B8G8R8A8_USCALED */
    DXGI_FORMAT_B8G8R8A8_TYPELESS, /* B8G8R8A8_SSCALED */
    DXGI_FORMAT_B8G8R8A8_TYPELESS, /* B8G8R8A8_UINT */
    DXGI_FORMAT_B8G8R8A8_TYPELESS, /* B8G8R8A8_SINT */
    DXGI_FORMAT_B8G8R8A8_UNORM_SRGB, /* B8G8R8A8_SRGB */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_UNORM_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_SNORM_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_USCALED_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_SSCALED_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_UINT_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_SINT_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A8B8G8R8_SRGB_PACK32 */
    DXGI_FORMAT_R10G10B10A2_UNORM, /* A2R10G10B10_UNORM_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2R10G10B10_SNORM_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2R10G10B10_USCALED_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2R10G10B10_SSCALED_PACK32 */
    DXGI_FORMAT_R10G10B10A2_UINT, /* A2R10G10B10_UINT_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2R10G10B10_SINT_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2B10G10R10_UNORM_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2B10G10R10_SNORM_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2B10G10R10_USCALED_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2B10G10R10_SSCALED_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2B10G10R10_UINT_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* A2B10G10R10_SINT_PACK32 */
    DXGI_FORMAT_R16_UNORM, /* R16_UNORM */
    DXGI_FORMAT_R16_SNORM, /* R16_SNORM */
    DXGI_FORMAT_R16_TYPELESS, /* R16_USCALED */
    DXGI_FORMAT_R16_TYPELESS, /* R16_SSCALED */
    DXGI_FORMAT_R16_UINT, /* R16_UINT */
    DXGI_FORMAT_R16_SINT, /* R16_SINT */
    DXGI_FORMAT_R16_FLOAT, /* R16_SFLOAT */
    DXGI_FORMAT_R16G16_UNORM, /* R16G16_UNORM */
    DXGI_FORMAT_R16G16_SNORM, /* R16G16_SNORM */
    DXGI_FORMAT_R16G16_TYPELESS, /* R16G16_USCALED */
    DXGI_FORMAT_R16G16_TYPELESS, /* R16G16_SSCALED */
    DXGI_FORMAT_R16G16_UINT, /* R16G16_UINT */
    DXGI_FORMAT_R16G16_SINT, /* R16G16_SINT */
    DXGI_FORMAT_R16G16_FLOAT, /* R16G16_SFLOAT */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_UNORM */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_SNORM */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_USCALED */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_SSCALED */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_UINT */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_SINT */
    DXGI_FORMAT_UNKNOWN, /* R16G16B16_SFLOAT */
    DXGI_FORMAT_R16G16B16A16_UNORM, /* R16G16B16A16_UNORM */
    DXGI_FORMAT_R16G16B16A16_SNORM, /* R16G16B16A16_SNORM */
    DXGI_FORMAT_R16G16B16A16_TYPELESS, /* R16G16B16A16_USCALED */
    DXGI_FORMAT_R16G16B16A16_TYPELESS, /* R16G16B16A16_SSCALED */
    DXGI_FORMAT_R16G16B16A16_UINT, /* R16G16B16A16_UINT */
    DXGI_FORMAT_R16G16B16A16_SINT, /* R16G16B16A16_SINT */
    DXGI_FORMAT_R16G16B16A16_FLOAT, /* R16G16B16A16_SFLOAT */
    DXGI_FORMAT_R32_UINT, /* R32_UINT */
    DXGI_FORMAT_R32_SINT, /* R32_SINT */
    DXGI_FORMAT_R32_FLOAT, /* R32_SFLOAT */
    DXGI_FORMAT_R32G32_UINT, /* R32G32_UINT */
    DXGI_FORMAT_R32G32_SINT, /* R32G32_SINT */
    DXGI_FORMAT_R32G32_FLOAT, /* R32G32_SFLOAT */
    DXGI_FORMAT_R32G32B32_UINT, /* R32G32B32_UINT */
    DXGI_FORMAT_R32G32B32_SINT, /* R32G32B32_SINT */
    DXGI_FORMAT_R32G32B32_FLOAT, /* R32G32B32_SFLOAT */
    DXGI_FORMAT_R32G32B32A32_UINT, /* R32G32B32A32_UINT */
    DXGI_FORMAT_R32G32B32A32_SINT, /* R32G32B32A32_SINT */
    DXGI_FORMAT_R32G32B32A32_FLOAT, /* R32G32B32A32_SFLOAT */
    DXGI_FORMAT_UNKNOWN, /* R64_UINT */
    DXGI_FORMAT_UNKNOWN, /* R64_SINT */
    DXGI_FORMAT_UNKNOWN, /* R64_SFLOAT */
    DXGI_FORMAT_UNKNOWN, /* R64G64_UINT */
    DXGI_FORMAT_UNKNOWN, /* R64G64_SINT */
    DXGI_FORMAT_UNKNOWN, /* R64G64_SFLOAT */
    DXGI_FORMAT_UNKNOWN, /* R64G64B64_UINT */
    DXGI_FORMAT_UNKNOWN, /* R64G64B64_SINT */
    DXGI_FORMAT_UNKNOWN, /* R64G64B64_SFLOAT */
    DXGI_FORMAT_UNKNOWN, /* R64G64B64A64_UINT */
    DXGI_FORMAT_UNKNOWN, /* R64G64B64A64_SINT */
    DXGI_FORMAT_UNKNOWN, /* R64G64B64A64_SFLOAT */
    DXGI_FORMAT_R11G11B10_FLOAT, /* B10G11R11_UFLOAT_PACK32 */
    DXGI_FORMAT_UNKNOWN, /* E5B9G9R9_UFLOAT_PACK32 */
    DXGI_FORMAT_D16_UNORM, /* D16_UNORM */
    DXGI_FORMAT_D24_UNORM_S8_UINT, /* X8_D24_UNORM_PACK32 */
    DXGI_FORMAT_D32_FLOAT, /* D32_SFLOAT */
    DXGI_FORMAT_UNKNOWN, /* S8_UINT */
    DXGI_FORMAT_UNKNOWN, /* D16_UNORM_S8_UINT */
    DXGI_FORMAT_D24_UNORM_S8_UINT, /* D24_UNORM_S8_UINT */
    DXGI_FORMAT_D32_FLOAT_S8X24_UINT, /* D32_SFLOAT_S8_UINT */
    DXGI_FORMAT_UNKNOWN, /* BC1_RGB_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC1_RGB_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC1_RGBA_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC1_RGBA_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC2_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC2_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC3_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC3_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC4_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC4_SNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC5_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC5_SNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC6H_UFLOAT_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC6H_SFLOAT_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC7_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* BC7_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ETC2_R8G8B8_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ETC2_R8G8B8_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ETC2_R8G8B8A1_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ETC2_R8G8B8A1_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ETC2_R8G8B8A8_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ETC2_R8G8B8A8_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* EAC_R11_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* EAC_R11_SNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* EAC_R11G11_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* EAC_R11G11_SNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_4x4_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_4x4_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_5x4_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_5x4_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_5x5_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_5x5_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_6x5_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_6x5_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_6x6_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_6x6_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_8x5_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_8x5_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_8x6_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_8x6_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_8x8_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_8x8_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x5_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x5_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x6_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x6_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x8_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x8_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x10_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_10x10_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_12x10_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_12x10_SRGB_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_12x12_UNORM_BLOCK */
    DXGI_FORMAT_UNKNOWN, /* ASTC_12x12_SRGB_BLOCK */
};

DXGI_FORMAT Convert(EFormat format)
{
    //TODO: potentiall warn if return UNKNOWN?
    return FormatMappingTable[static_cast<size_t>(format)];
}

D3D11_TEXTURE_ADDRESS_MODE Convert(ESamplerAddressMode mode)
{
    static_assert(D3D11_TEXTURE_ADDRESS_WRAP == static_cast<uint32_t>(ESamplerAddressMode::Wrap), "def mismatch");
    static_assert(D3D11_TEXTURE_ADDRESS_MIRROR_ONCE == static_cast<uint32_t>(ESamplerAddressMode::MirrorOnce), "def mismatch");
    return static_cast<D3D11_TEXTURE_ADDRESS_MODE>(mode);
}

} /* namespace Nome::RHI */
